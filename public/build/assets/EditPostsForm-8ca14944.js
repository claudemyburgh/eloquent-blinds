import{q as k,d as I,W as F,e as s,j as e}from"./index.esm-48297038.js";import"./Dropdown-2033e0d4.js";import{I as o}from"./InputError-b09f672a.js";import{T as g,a as h,S as j}from"./Textarea-95333606.js";import{I as n}from"./InputLabel-69e9285d.js";import{S as T}from"./SaveSubmitButton-0182dd6a.js";import{s as E}from"./helpers-4e0e4534.js";import{C as m}from"./CharCounter-15ff948c.js";import{_ as f}from"./index-7f4f57d2.js";import{T as x}from"./ToastItem-f7da6358.js";import"./transition-e0e80a29.js";import"./PrimaryButton-037916a7.js";import"./slugify-f6a06003.js";const K=()=>{var u,p,v;const{post:t,auth:b}=k().props,[c,y]=I.useState({description:(u=t.description)==null?void 0:u.length,body:(p=t.body)==null?void 0:p.length,slug:(v=t.slug)==null?void 0:v.length}),{data:r,setData:w,put:N,errors:i,processing:S,recentlySuccessful:C}=F({title:t.title||"",user_id:b.user.id,slug:t.slug||"",description:t.description||"",body:t.body||"",live:t.live}),L=l=>{l.preventDefault(),N(route("dashboard.posts.update",t),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{f.custom(d=>e(x,{t:d,type:"success",title:"Success",message:"Post successfully updated",icon:"check"}))},onError:()=>{f.custom(d=>e(x,{t:d,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function a(l){l.preventDefault(),w({...r,[l.target.id]:l.target.value}),y({...c,[l.target.id]:l.target.value.length})}return s("form",{className:"mt-6 space-y-6",onSubmit:L,children:[s("div",{children:[e(n,{htmlFor:"title",value:"Title"}),e(g,{id:"title",value:r.title,onChange:a,type:"text",className:"mt-1 block w-full"}),e(o,{message:i.title,className:"mt-2"})]}),s("div",{children:[e(n,{htmlFor:"slug",value:"Slug"}),e(g,{id:"slug",value:E(r.slug),onChange:a,type:"text",className:"mt-1 block w-full"}),e(m,{count:c.slug,max:255}),e(o,{message:i.slug,className:"mt-4"})]}),s("div",{children:[e(n,{htmlFor:"description",value:"Description"}),e(h,{id:"description",value:r.description,onChange:a,className:"mt-1 block w-full min-h-[100px]"}),e(m,{count:c.description||0,max:255}),e(o,{message:i.description,className:"mt-4"})]}),s("div",{children:[e(n,{htmlFor:"body",value:"Body"}),e(h,{id:"body",value:r.body,onChange:a,className:"mt-1 block w-full min-h-[200px]"}),e(m,{count:c.body||0,max:2500}),e(o,{message:i.body,className:"mt-4"})]}),s("div",{children:[e(n,{htmlFor:"live",value:"Live"}),s("div",{className:"flex justify-between items-center",children:[s(j,{id:"live",name:"live",value:r.live,onChange:a,children:[e("option",{value:"1",children:"Live"}),e("option",{value:"0",children:"Not Live"})]}),e("div",{children:t.live?s("div",{className:"bg-green-100 inline-flex space-x-1 items-center justify-center text-green-800 text-xs font-medium  px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:e("path",{fillRule:"evenodd",d:"M10 2a.75.75 0 01.75.75v7.5a.75.75 0 01-1.5 0v-7.5A.75.75 0 0110 2zM5.404 4.343a.75.75 0 010 1.06 6.5 6.5 0 109.192 0 .75.75 0 111.06-1.06 8 8 0 11-11.313 0 .75.75 0 011.06 0z",clipRule:"evenodd"})}),e("span",{children:"Live"})]}):s("div",{className:"bg-red-100 inline-flex space-x-1 items-center justify-center text-red-800 text-xs font-medium  px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:e("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})}),e("span",{children:"Not Live"})]})})]}),e(o,{message:i.live,className:"mt-2"})]}),e("div",{className:"flex items-center justify-between",children:e(T,{processing:S,recentlySuccessful:C})})]})};export{K as default};
