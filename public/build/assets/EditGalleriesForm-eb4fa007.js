import{q as L,e as k,W as I,f as l,b as e}from"./index.esm-b13dcf95.js";import"./Dropdown-d41c8316.js";import{I as o}from"./InputError-30a1abf3.js";import{T as g,a as h,S as F}from"./Textarea-3ee37b1a.js";import{I as n}from"./InputLabel-698c3925.js";import{S as j}from"./SaveSubmitButton-a5bab951.js";import{s as T}from"./helpers-4e9f6025.js";import{C as d}from"./CharCounter-af676958.js";import{_ as f}from"./index-e928716d.js";import{T as x}from"./ToastItem-da39be71.js";import"./PrimaryButton-6ae253e3.js";import"./slugify-86247c2b.js";const K=()=>{var u,p,v;const{gallery:t,auth:E}=L().props,[c,b]=k.useState({description:(u=t.description)==null?void 0:u.length,body:(p=t.body)==null?void 0:p.length,slug:(v=t.slug)==null?void 0:v.length}),{data:r,setData:y,put:w,errors:a,processing:N,recentlySuccessful:S}=I({title:t.title||"",slug:t.slug||"",description:t.description||"",body:t.body||"",live:t.live}),C=s=>{s.preventDefault(),w(route("dashboard.galleries.update",t),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{f.custom(m=>e(x,{t:m,type:"success",title:"Success",message:"Gallery successfully updated",icon:"check"}))},onError:()=>{f.custom(m=>e(x,{t:m,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function i(s){s.preventDefault(),y({...r,[s.target.id]:s.target.value}),b({...c,[s.target.id]:s.target.value.length})}return l("form",{className:"mt-6 space-y-6",onSubmit:C,children:[l("div",{children:[e(n,{htmlFor:"title",value:"Title"}),e(g,{id:"title",value:r.title,onChange:i,type:"text",className:"mt-1 block w-full"}),e(o,{message:a.title,className:"mt-2"})]}),l("div",{children:[e(n,{htmlFor:"slug",value:"Slug"}),e(g,{id:"slug",value:T(r.slug),onChange:i,type:"text",className:"mt-1 block w-full"}),e(d,{count:c.slug,max:255}),e(o,{message:a.slug,className:"mt-4"})]}),l("div",{children:[e(n,{htmlFor:"description",value:"Description"}),e(h,{id:"description",value:r.description,onChange:i,className:"mt-1 block w-full min-h-[100px]"}),e(d,{count:c.description||0,max:255}),e(o,{message:a.description,className:"mt-4"})]}),l("div",{children:[e(n,{htmlFor:"body",value:"Body"}),e(h,{id:"body",value:r.body,onChange:i,className:"mt-1 block w-full min-h-[200px]"}),e(d,{count:c.body||0,max:2500}),e(o,{message:a.body,className:"mt-4"})]}),l("div",{children:[e(n,{htmlFor:"live",value:"Live"}),l("div",{className:"flex justify-between items-center",children:[l(F,{id:"live",name:"live",value:r.live,onChange:i,children:[e("option",{value:"1",children:"Live"}),e("option",{value:"0",children:"Not Live"})]}),e("div",{children:t.live?l("div",{className:"bg-green-100 inline-flex space-x-1 items-center justify-center text-green-800 text-xs font-medium  px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:e("path",{fillRule:"evenodd",d:"M10 2a.75.75 0 01.75.75v7.5a.75.75 0 01-1.5 0v-7.5A.75.75 0 0110 2zM5.404 4.343a.75.75 0 010 1.06 6.5 6.5 0 109.192 0 .75.75 0 111.06-1.06 8 8 0 11-11.313 0 .75.75 0 011.06 0z",clipRule:"evenodd"})}),e("span",{children:"Live"})]}):l("div",{className:"bg-red-100 inline-flex space-x-1 items-center justify-center text-red-800 text-xs font-medium  px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:e("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})}),e("span",{children:"Not Live"})]})})]}),e(o,{message:a.live,className:"mt-2"})]}),e("div",{className:"flex items-center justify-between",children:e(j,{processing:N,recentlySuccessful:S})})]})};export{K as default};
