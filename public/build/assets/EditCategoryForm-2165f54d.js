import{q as k,e as E,W as T,f as l,b as e}from"./index.esm-7a096b41.js";import"./Dropdown-4011b9d6.js";import{I as i}from"./InputError-966f87fc.js";import{T as d,S as p,a as v}from"./Textarea-5e5e0f35.js";import{I as n}from"./InputLabel-24e51369.js";import{S as D}from"./SaveSubmitButton-32ef56ad.js";import{s as L}from"./helpers-69dcf652.js";import{C as m}from"./CharCounter-9998e082.js";import{_ as b}from"./index-c067a6e5.js";import{T as y}from"./ToastItem-87c29127.js";import"./PrimaryButton-44be1e23.js";import"./slugify-ee9a0573.js";const K=()=>{var g,f,x,N;const{category:t,categories_all:h}=k().props,[c,C]=E.useState({description:(g=t.description)==null?void 0:g.length,body:(f=t.body)==null?void 0:f.length,slug:(x=t.slug)==null?void 0:x.length,excerpt:(N=t.excerpt)==null?void 0:N.length}),{data:r,setData:S,put:_,errors:o,processing:w,recentlySuccessful:F}=T({title:t.title||"",slug:t.slug||"",parent_id:t.parent_id||"",description:t.description||"",body:t.body||"",excerpt:t.excerpt||"",live:t.live,popular:t.popular,video_url:t.video_url||""}),I=a=>{a.preventDefault(),_(route("dashboard.categories.update",t),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{b.custom(u=>e(y,{t:u,type:"success",title:"Success",message:"Category successfully updated",icon:"check"}))},onError:()=>{b.custom(u=>e(y,{t:u,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function s(a){a.preventDefault(),S({...r,[a.target.id]:a.target.value}),C({...c,[a.target.id]:a.target.value.length})}return l("form",{className:"mt-6 space-y-6",onSubmit:I,children:[l("div",{children:[e(n,{htmlFor:"title",value:"Title"}),e(d,{id:"title",value:r.title,onChange:s,type:"text",className:"mt-1 block w-full"}),e(i,{message:o.title,className:"mt-2"})]}),l("div",{children:[e(n,{htmlFor:"slug",value:"Slug"}),e(d,{id:"slug",value:L(r.slug),onChange:s,type:"text",className:"mt-1 block w-full"}),e(m,{count:c.slug,max:100}),e(i,{message:o.slug,className:"mt-4"})]}),l("div",{children:[e(n,{htmlFor:"parent_id",value:"Parent Id"}),l(p,{id:"parent_id",defaultValue:r.parent_id,onChange:s,className:"mt-1 block w-full",children:[e("option",{value:"",children:"None"}),h&&h.map(a=>e("option",{value:a.id,children:a.title},a.uuid))]}),e(i,{message:o.parent_id,className:"mt-2"})]}),l("div",{children:[e(n,{htmlFor:"description",value:"Description"}),e(v,{id:"description",value:r.description,onChange:s,className:"mt-1 block w-full min-h-[100px]"}),e(m,{count:c.description||0,max:500}),e(i,{message:o.description,className:"mt-4"})]}),l("div",{children:[e(n,{htmlFor:"excerpt",value:"Excerpt"}),e(v,{id:"excerpt",value:r.excerpt,onChange:s,className:"mt-1 block w-full min-h-[100px]"}),e(m,{count:c.excerpt||0,max:500}),e(i,{message:o.excerpt,className:"mt-4"})]}),l("div",{children:[e(n,{htmlFor:"body",value:"Body"}),e(v,{id:"body",value:r.body,onChange:s,className:"mt-1 block w-full min-h-[200px]"}),e(m,{count:c.body||0,max:2500}),e(i,{message:o.body,className:"mt-4"})]}),l("div",{className:"grid grid-cols-2 gap-6",children:[l("div",{children:[e(n,{htmlFor:"live",value:"Live"}),l(p,{id:"live",name:"live",className:"w-full mt-1",value:r.live,onChange:s,children:[e("option",{value:"1",children:"Live"}),e("option",{value:"0",children:"Not Live"})]}),e(i,{message:o.live,className:"mt-2"})]}),l("div",{children:[e(n,{htmlFor:"popular",value:"Popular"}),l(p,{id:"popular",name:"popular",className:"w-full mt-1",value:r.popular,onChange:s,children:[e("option",{value:"1",children:"Popular"}),e("option",{value:"0",children:"Not Popular"})]}),e(i,{message:o.popular,className:"mt-2"})]})]}),l("div",{children:[e(n,{htmlFor:"video_url",value:"Video Url"}),e(d,{id:"video_url",value:r.video_url,onChange:s,type:"text",className:"mt-1 block w-full"}),e(i,{message:o.video_url,className:"mt-2"})]}),e("div",{className:"flex items-center justify-between",children:e(D,{processing:w,recentlySuccessful:F})})]})};export{K as default};
