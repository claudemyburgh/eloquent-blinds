import{q as P,e as T,W as D,f as l,b as e}from"./index.esm-b13dcf95.js";import"./Dropdown-d41c8316.js";import{I as i}from"./InputError-30a1abf3.js";import{T as x,a as m,S as p}from"./Textarea-3ee37b1a.js";import{I as c}from"./InputLabel-698c3925.js";import{S as L}from"./SelectStepCategory-e4c14a58.js";import{S as B}from"./SaveSubmitButton-a5bab951.js";import{s as V}from"./helpers-4e9f6025.js";import{C as u}from"./CharCounter-af676958.js";import{_ as N}from"./index-e928716d.js";import{T as b}from"./ToastItem-da39be71.js";import"./PrimaryButton-6ae253e3.js";import"./slugify-86247c2b.js";const X=()=>{var g,h,v,y,f;const{product:t,categories_all:S,tags:C,galleries:w}=P().props,[n,F]=T.useState({description:(g=t.description)==null?void 0:g.length,body:(h=t.body)==null?void 0:h.length,slug:(v=t.slug)==null?void 0:v.length,excerpt:(y=t.excerpt)==null?void 0:y.length}),{data:a,setData:j,put:I,errors:o,processing:_,recentlySuccessful:k}=D({title:t.title||"",slug:t.slug||"",category_id:t.category_id||"",description:t.description||"",body:t.body||"",excerpt:t.excerpt||"",json:t.json||"",live:t.live,popular:t.popular,tag:C||"",gallery:((f=t.galleries[0])==null?void 0:f.id)||""}),E=r=>{r.preventDefault(),I(route("dashboard.products.update",t),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{N.custom(d=>e(b,{t:d,type:"success",title:"Success",message:"Product successfully updated",icon:"check"}))},onError:()=>{N.custom(d=>e(b,{t:d,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function s(r){r.preventDefault(),j({...a,[r.target.id]:r.target.value}),F({...n,[r.target.id]:r.target.value.length})}return l("form",{className:"mt-6 space-y-6",onSubmit:E,children:[l("div",{children:[e(c,{htmlFor:"title",value:"Title"}),e(x,{id:"title",value:a.title,onChange:s,type:"text",className:"mt-1 block w-full"}),e(i,{message:o.title,className:"mt-2"})]}),l("div",{children:[e(c,{htmlFor:"slug",value:"Slug"}),e(x,{id:"slug",value:V(a.slug),onChange:s,type:"text",className:"mt-1 block w-full"}),e(u,{count:n.slug,max:100}),e(i,{message:o.slug,className:"mt-4"})]}),l("div",{children:[e(c,{htmlFor:"category_id",value:"Category"}),e(L,{id:"category_id",categories:S,defaultValue:a.category_id,onChange:s}),e(i,{message:o.category_id,className:"mt-2"})]}),l("div",{children:[e(c,{htmlFor:"description",value:"Description"}),e(m,{id:"description",value:a.description,onChange:s,className:"mt-1 block w-full min-h-[100px]"}),e(u,{count:n.description||0,max:500}),e(i,{message:o.description,className:"mt-4"})]}),l("div",{children:[e(c,{htmlFor:"excerpt",value:"Excerpt"}),e(m,{id:"excerpt",value:a.excerpt,onChange:s,className:"mt-1 block w-full min-h-[100px]"}),e(u,{count:n.excerpt||0,max:500}),e(i,{message:o.excerpt,className:"mt-4"})]}),l("div",{children:[e(c,{htmlFor:"body",value:"Body"}),e(m,{id:"body",value:a.body,onChange:s,className:"mt-1 block w-full min-h-[200px]"}),e(u,{count:n.body||0,max:2500}),e(i,{message:o.body,className:"mt-4"})]}),l("div",{className:"grid grid-cols-2 gap-6",children:[l("div",{children:[e(c,{htmlFor:"live",value:"Live"}),l(p,{id:"live",name:"live",className:"w-full mt-1",value:a.live,onChange:s,children:[e("option",{value:"1",children:"Live"}),e("option",{value:"0",children:"Not Live"})]}),e(i,{message:o.live,className:"mt-2"})]}),l("div",{children:[e(c,{htmlFor:"popular",value:"Popular"}),l(p,{id:"popular",name:"popular",className:"w-full mt-1",value:a.popular,onChange:s,children:[e("option",{value:"1",children:"Popular"}),e("option",{value:"0",children:"Not Popular"})]}),e(i,{message:o.popular,className:"mt-2"})]})]}),l("div",{children:[e(c,{htmlFor:"gallery",value:"Gallery"}),l(p,{showValue:!0,id:"gallery",name:"gallery",className:"w-full mt-1",value:a.gallery,onChange:s,children:[e("option",{value:"",children:"Select a gallery"}),w.map(r=>e("option",{value:r.id,children:r.title},r.id))]}),e(i,{message:o.gallery,className:"mt-2"})]}),l("div",{children:[e(c,{htmlFor:"json",value:"Json data"}),e(m,{id:"json",value:a.json,onChange:s,className:"mt-1 block w-full min-h-[100px]"}),e(i,{message:o.json,className:"mt-4"})]}),e("div",{className:"flex items-center justify-between",children:e(B,{processing:_,recentlySuccessful:k})})]})};export{X as default};
